" TODO : go through this and make it work when full Vim isn't installed, i.e. fresh install of Ubuntu

" When started as "evim", evim.vim will already have done these settings.
if v:progname =~? "evim"
    finish
endif

" Use Vim settings, rather then Vi settings (much better!).
" This must be first, because it changes other options as a side effect.
set nocompatible

" Visible Bell
set vb

set display=uhex,lastline
"set shiftwidth=4 tabstop=4 expandtab
"set list  listchars=tab:»·,trail:·
set list  listchars=tab:>-,trail:-
au FileType make setlocal noexpandtab
au FileType c set shiftwidth=4 tabstop=4 expandtab nowrap
au FileType cpp set shiftwidth=4 tabstop=4 expandtab nowrap
au FileType java set shiftwidth=4 tabstop=4 expandtab nowrap

" Don't create backups
set nobackup

" Allow mouse
"set mouse=a

" Don't allow backspacing over everything in insert mode
"set backspace=
"indent,eol,start

set autoindent		" always set autoindenting on
set history=50		" keep 50 lines of command line history
set ruler		" show the cursor position all the time
set showcmd		" display incomplete commands
set incsearch		" do incremental searching

" For Win32 GUI: remove 't' flag from 'guioptions': no tearoff menu entries
" let &guioptions = substitute(&guioptions, "t", "", "g")

" Don't use Ex mode, use Q for formatting
map Q gq

" Trim blanks
"      :%s/\s\+$//
:command Tb %s/\s\+$//

:set cpoptions+=$

" Make p in Visual mode replace the selected text with the "" register.
vnoremap p <Esc>:let current_reg = @"<CR>gvs<C-R>=current_reg<CR><Esc>

" Fix the messed up <BS> and <DEL>
"inoremap  
"set t_kb=
"set t_kD=

" This is an alternative that also works in block mode, but the deleted
" text is lost and it only works for putting the current register.
"vnoremap p "_dp

" Switch syntax highlighting on, when the terminal has colors
" Also switch on highlighting the last used search pattern.
if &t_Co > 2 || has("gui_running")
    syntax on
    set hlsearch
endif

" Only do this part when compiled with support for autocommands.
if has("autocmd")

    " Enable file type detection.
    " Use the default filetype settings, so that mail gets 'tw' set to 72,
    " 'cindent' is on in C files, etc.
    " Also load indent files, to automatically do language-dependent indenting.
    filetype plugin indent on

    " For all text files set 'textwidth' to 78 characters.
    autocmd FileType text setlocal textwidth=78

    " When editing a file, always jump to the last known cursor position.
    " Don't do it when the position is invalid or when inside an event handler
    " (happens when dropping a file on gvim).
    autocmd BufReadPost *
    \ if line("'\"") > 0 && line("'\"") <= line("$") |
    \   exe "normal g`\"" |
    \ endif

endif " has("autocmd")

"        -- VimPlug --
" Install vim-plug if it is not installed
if empty(glob('~/.vim/autoload/plug.vim'))
          silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs
              \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
            autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif

" Plugins to be installed 
call plug#begin('~/.vim/plugged')

Plug 'scrooloose/nerdtree'
Plug 'xolox/vim-misc'
Plug 'xolox/vim-easytags'
Plug 'brookhong/cscope.vim'
Plug 'scrooloose/nerdcommenter'
Plug 'SirVer/ultisnips'
Plug 'jeetsukumaran/vim-buffergator'
Plug 'gilsondev/searchtasks.vim'
Plug 'majutsushi/tagbar'
Plug 'simeji/winresizer'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'
Plug 'powerline/powerline'
Plug 'tpope/vim-fugitive'
Plug 'hashivim/vim-vagrant'
Plug 'junegunn/fzf', { 'dir': '~/.fzf', 'do': './install --all' }
Plug 'junegunn/fzf.vim'
Plug 'zivyangll/git-blame.vim'
Plug 'davidhalter/jedi-vim'
Plug 'kergoth/vim-bitbake'
Plug 'gcmt/taboo.vim'
Plug 'airblade/vim-gitgutter'
Plug 'jiangmiao/auto-pairs'
Plug 'zxqfl/tabnine-vim'
Plug 'prabirshrestha/async.vim'
Plug 'prabirshrestha/vim-lsp'
Plug 'pdavydov108/vim-lsp-cquery'
Plug 'christoomey/vim-tmux-navigator'

" Themes to be installed
Plug 'vim-scripts/dante.vim'
Plug 'gkjgh/cobalt'

call plug#end()

" Change the ugly default colorscheme to something more pleasing to the eye
" colo adam
"colo gothic
"colo seashell
"colo BlackSea
colo cobalt
